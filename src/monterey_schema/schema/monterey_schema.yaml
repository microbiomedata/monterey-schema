id: https://w3id.org/microbiomedata/monterey-schema
name: monterey-schema
title: monterey-schema
description: |-
  Proving grounds for a refactored nmdc-schema
license: MIT
see_also:
  - https://microbiomedata.github.io/monterey-schema

prefixes:
  monterey_schema: https://w3id.org/microbiomedata/monterey-schema/
  linkml: https://w3id.org/linkml/
  #  biolink: https://w3id.org/biolink/
  schema: http://schema.org/
  #  PATO: http://purl.obolibrary.org/obo/PATO_
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  example: https://example.org/ # linter warning  Schema maps prefix 'example' to namespace 'https://example.org/' instead of namespace 'http://www.example.org/rdf#'  (canonical_prefixes)
default_prefix: monterey_schema
default_range: string

imports:
  - linkml:types

classes:

  NmdcClass:
    abstract: true

  AnonymousThing:
    is_a: NmdcClass
    abstract: true
    slots:
      - type
      - category

  AttributeValue:
    is_a: AnonymousThing
    abstract: true
    comments:
      - retire TextValue
    slots:
      - has_raw_value

  QuantityValue:
    is_a: AttributeValue
    slots:
      - has_unit
      - has_numeric_value
      - has_minimum_value
      - has_maximum_value

  NamedThing:
    abstract: true
    is_a: NmdcClass
    description: >-
      A generic grouping for any identifiable entity
    slots:
      - id
      - name
      - description
      - type
      - category
    class_uri: schema:Thing


  MaterialOrData:
    is_a: NamedThing
    class_uri: monterey_schema:MaterialOrData
    abstract: true

  MaterialEntity:
    is_a: MaterialOrData
    class_uri: monterey_schema:MaterialEntity

  DataEntity:
    is_a: MaterialOrData
    class_uri: monterey_schema:DataEntity
    slots:
      - url

  Database:
    is_a: NmdcClass
    tree_root: true

  PlannedProcess:
    is_a: NamedThing
    abstract: true
    slots:
      - has_inputs
      - has_outputs

  Investigation:
    is_a: PlannedProcess
    class_uri: monterey_schema:Investigation

  MaterialProcessing:
    is_a: PlannedProcess
    class_uri: monterey_schema:MaterialProcessing
    slot_usage:
      has_inputs:
        range: MaterialEntity
      has_outputs:
        range: MaterialEntity
    slots:
      - used
      - followed

  DataProcessing:
    is_a: PlannedProcess
    class_uri: monterey_schema:DataProcessing
    slot_usage:
      has_inputs:
        range: DataEntity
      has_outputs:
        range: DataEntity

  DataGeneration:
    is_a: PlannedProcess
    class_uri: monterey_schema:DataGeneration
    slot_usage:
      has_inputs:
        range: MaterialEntity
      has_outputs:
        range: DataEntity
    slots:
      - used
      - followed

  Person:
    is_a: MaterialEntity
    slots:
      - orcid

  Instrument:
    is_a: MaterialEntity

  Protocol:
    is_a: DataEntity


#  Person:
#    is_a: NamedThing
#    description: >-
#      Represents a Person
#    slots:
#      - primary_email
#      - birth_date
#      - age_in_years
#      - vital_status
#    slot_usage:
#      primary_email:
#        pattern: "^\\S+@[\\S+\\.]+\\S+"
#
#  PersonCollection:
#    tree_root: true
#    description: >-
#      A holder for Person objects
#    attributes:
#      entries:
#        range: Person
#        multivalued: true
#        inlined: true

slots:
  has_inputs:
    domain: PlannedProcess
    range: MaterialOrData
    multivalued: true

  has_outputs:
    domain: PlannedProcess
    range: MaterialOrData
    multivalued: true
    required: true

  id:
    identifier: true
    slot_uri: schema:identifier
    range: uriorcurie
    description: A unique identifier for a thing
  name:
    slot_uri: schema:name
    description: A human-readable name for a thing
  description:
    slot_uri: schema:description
    description: A human-readable description for a thing

  object_collection:
    domain: Database
    range: NamedThing
    abstract: true

  process_collection:
    is_a: object_collection
    multivalued: true
    inlined_as_list: true
    range: PlannedProcess

  type:
    slot_uri: rdf:type
    range: uriorcurie
    designates_type: true
    description: The type of a thing
    required: true

  category:
    range: GeneralCategories
    required: true

  url:
    required: true

  used:
    domain: PlannedProcess
    range: Instrument

  followed:
    domain: PlannedProcess
    range: Protocol

  orcid:
    range: uriorcurie
    description: An identifier of a Person who participates in investigations
    see_also:
      - https://orcid.org/
    required: true

  has_raw_value: { }
  has_unit: { }
  has_numeric_value:
    todos:
      - set the range to anyOf integer or float?
    required: true
  has_minimum_value:
    is_a: has_numeric_value
  has_maximum_value:
    is_a: has_numeric_value

#  primary_email:
#    slot_uri: schema:email
#    description: The main email address of a person
#  birth_date:
#    slot_uri: schema:birthDate
#    range: date
#    description: Date on which a person is born
#  age_in_years:
#    range: integer
#    description: Number of years since birth
#  vital_status:
#    range: PersonStatus
#    description: living or dead status

enums:
  GeneralCategories:
    permissible_values:
      red: { }
      green: { }
      blue: { }

#  PersonStatus:
#    permissible_values:
#      ALIVE:
#        description: the person is living
#        meaning: PATO:0001421
#      DEAD:
#        description: the person is deceased
#        meaning: PATO:0001422
#      UNKNOWN:
#        description: the vital status is not known
#        todos:
#          - map this to an ontology
